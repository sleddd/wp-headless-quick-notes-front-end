(this["webpackJsonpnice-alien-uwido"]=this["webpackJsonpnice-alien-uwido"]||[]).push([[0],{44:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(23),a=n(0),i=n(14),r=n(4),s=(n(43),n(44),n(5)),o=function(e,t){for(var n=[],c=[],a=0,i=1;i<=e;i++)t>a?(i=0,c.push(0),a++):c.push(i),(7===c.length||i===e&&t<7)&&(n.push(c),c=[]);return n},l=function(e){var t=new Date(e),n=t.getMonth(),c=t.toLocaleString("default",{month:"long"}),a=t.getFullYear(),i=new Date(t.getFullYear(),t.getMonth(),1).getDay(),r=new Date(a,n+1,0).getDate();return{numericalMonth:n,monthName:c,weeks:o(r,i),firstDay:i,totalDays:r,year:a}},u=function(){return(new Date).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},j=n(1),d=function(e){var t=(new Date).toLocaleDateString("en-US")==e.month+"/"+e.day+"/"+e.year?"calendar__current-day":"";return Object(j.jsx)("td",{className:t,children:Object(j.jsx)(i.b,{to:"/calendar/".concat(e.month,"/").concat(e.day,"/").concat(e.year),children:e.day<1?"":e.day})})},b=function(e){return Object(j.jsx)("tr",{children:e.week.map((function(t,n){return Object(j.jsx)(d,{day:t,month:e.month,year:e.year},n+t)}))})},h=n(17),m=n(18),O=(n(52),function(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.ui.calendar}));Object(a.useEffect)((function(){t({type:"UPDATE_CALENDAR",calendarMonth:n})}),[]);var c=function(e){var c=n.numericalMonth,a=n.year;(n.numericalMonth>=1||n.numericalMonth<=12)&&(c="previous"===e?c--:c+2),0===c&&(c=12,a--),13===c&&(c=1,a++),t({type:"UPDATE_CALENDAR",calendarMonth:l(new Date(c+"/01/"+a))})};return Object(j.jsx)("div",{className:"calendar",children:Object(j.jsxs)("table",{children:[Object(j.jsxs)("thead",{children:[Object(j.jsx)("tr",{children:Object(j.jsx)("th",{colSpan:7,children:Object(j.jsxs)("div",{className:"calendar__title",children:[Object(j.jsx)(h.a,{icon:m.a,onClick:function(){c("previous")}}),Object(j.jsxs)("div",{children:[n.monthName," ",n.year]}),Object(j.jsx)(h.a,{icon:m.b,onClick:function(){c("next")}})]})})}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Sun"}),Object(j.jsx)("th",{children:"Mon"}),Object(j.jsx)("th",{children:"Tues"}),Object(j.jsx)("th",{children:"Weds"}),Object(j.jsx)("th",{children:"Thurs"}),Object(j.jsx)("th",{children:"Fri"}),Object(j.jsx)("th",{children:"Sat"})]})]}),Object(j.jsx)("tbody",{onClick:e.handler,children:n.weeks.map((function(e){return Object(j.jsx)(b,{week:e,month:n.numericalMonth+1,year:n.year},e.join(""))}))})]})})}),x=n(15);var p,f,y=function(e,t){var n=Object(a.useRef)(e);Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])},v=(n(53),function(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.ui.menu.time})),c=Object(a.useState)({status:"closed"}),r=Object(x.a)(c,2),o=r[0],l=r[1],d=function(e){var t=e.target.textContent;if("prev"!==t&&"next"!==t){var n="",c=document.getElementById("fullWidthBackground__main");"closed"===o.status?(n="open",c&&(c.style.filter="blur(1rem)",c.style.webkitFilter="blur(rem)")):(n="closed",c&&(c.style.filter="",c.style.webkitFilter="")),l({status:n})}};return Object(a.useEffect)((function(){t({type:"UPDATE_TIME",time:u()})}),[]),y((function(){t({type:"UPDATE_TIME",time:u()})}),6e4),Object(j.jsxs)("nav",{className:"nav nav__".concat(o.status),children:[Object(j.jsxs)("div",{className:"nav__buttons",children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("p",{className:"nav__buttons__time",children:n})}),Object(j.jsxs)("button",{className:"nav__buttons__menuToggleBtn",onClick:d,children:[Object(j.jsx)("span",{}),Object(j.jsx)("span",{})]})]}),Object(j.jsxs)("div",{className:"nav__menu",children:[Object(j.jsx)("h1",{children:"Quick Notes"}),Object(j.jsx)("p",{children:"A journal for when you don't have time to journal."}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Items can only be added from any day to the current day."}),Object(j.jsx)("li",{children:"You cannot add past or future items."}),Object(j.jsx)("li",{children:"The abiility to edit any day's items is being worked on."}),Object(j.jsx)("li",{children:"The abilty to auto-migrate an item from day-to-day until it is complete is being worked on."}),Object(j.jsx)("li",{children:"The ability to add custom tasks and task icons is being worked on."})]}),Object(j.jsx)("div",{className:"nav__menu__content",children:Object(j.jsx)(O,{handler:d})})]})]})}),g=(n(54),function(e){return Object(j.jsx)("div",{id:"fullWidthBackground__".concat(e.id),className:"fullWidthBackground"})}),T=(n(55),function(e){return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(g,{id:"main"}),Object(j.jsx)(v,{}),Object(j.jsx)("div",{className:"home",children:Object(j.jsx)(O,{})})]})}),_=(n(56),n(10)),w=n(11),k=n.n(w),D=n(21),E="CREATE_ITEM",N="GET_ALL_ITEMS",S="DELETE_ITEM",A=function(e){return{type:N,items:e}},I=function(e){return{type:E,item:e}},M=(n(58),function(e){var t=Object(s.b)();return Object(j.jsxs)("li",{className:"journalItem journalItem--".concat(e.item.titleType),children:[Object(j.jsx)("button",{className:"journalItem__icon",children:Object(j.jsx)(h.a,{icon:m.c})}),Object(j.jsx)("div",{className:"journalItem__content",children:"image"===e.item.titleType?Object(j.jsx)("img",{src:"https://uwido-3001.sse.codesandbox.io/uploads/"+e.item.title,alt:e.item.title}):Object(j.jsx)("p",{children:e.item.title})}),Object(j.jsx)("div",{className:"journalItem__controls",children:Object(j.jsx)("button",{onClick:function(n){var c;t((c=e.item,function(){var e=Object(D.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/items",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 3:t({type:S,item:c}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(j.jsx)(h.a,{icon:m.d})})})]})}),F=(n(59),function(e){var t=Object(s.b)(),n=Object(a.useState)({text:"",type:"text"}),c=Object(x.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)({isValid:!1,file:new FormData}),l=Object(x.a)(o,2),u=l[0],d=l[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.currentTarget,c={title:i.text,titleType:i.type,type:n.itemType.value,created:Date.now().toString()},a={image:new FormData,item:c};"image"===n.titleType.value&&u.isValid?a.image&&(a.image=u.file):t(function(e){return function(){var t=Object(D.a)(k.a.mark((function t(n){var c,a,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,i=Object(_.a)(Object(_.a)({id:a.id},e),{},{created:Date.now()}),n(I(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(c))},children:[Object(j.jsx)("legend",{children:Object(j.jsx)("p",{children:Object(j.jsx)("em",{children:"Remember! New journal items can only be added to the current day. See menu to learn how to make unfinished items carry over."})})}),Object(j.jsxs)("select",{name:"itemType",id:"itemType",defaultValue:"",children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"What type of item is this?"},"addTask-option-none"),Object(j.jsx)("option",{value:"todo",children:"Task"},"addTask-option-todo")]}),Object(j.jsxs)("select",{name:"titleType",id:"titleType",onChange:function(e){r(Object(_.a)(Object(_.a)({},i),{},{type:e.target.value}))},defaultValue:"",children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"Will you be using an image or text?"},"titleTypeDefault"),Object(j.jsx)("option",{value:"text",children:"Text"},"titleTypeText"),Object(j.jsx)("option",{value:"image",children:"Image"},"titleTypeImage")]}),"text"===i.type?Object(j.jsx)(a.Fragment,{children:Object(j.jsx)("input",{"data-test":"titleText",type:"text",name:"titleText",onChange:function(e){r(Object(_.a)(Object(_.a)({},i),{},{text:e.target.value}))},placeholder:"Type your text here..."})}):"","image"===i.type?Object(j.jsx)(a.Fragment,{children:Object(j.jsx)("input",{type:"file",name:"titleImage","data-test":"titleImage",onChange:function(e){var t=e.target.files[0];if("image/png"===t.type||"image/jpg"===t.type||"image/jpeg"===t.type){var n=new FormData;n.append("imageFile",e.target.files[0]),d({isValid:!0,file:n})}else alert("Stop that! This is a sandbox. You can't upload that file. Tsk.Tsk."),d(Object(_.a)(Object(_.a)({},u),{},{isValid:!1}))}})}):"",Object(j.jsx)("button",{type:"submit",children:"Add Journal Item"})]})}),C=n(28),L=n(29),U=L.b.button(p||(p=Object(C.a)(["\n  float: left;\n  ","\n"])),(function(e){return e.rightAligned&&Object(L.a)(f||(f=Object(C.a)(["\n      float: right;\n    "])))})),J=function(e){var t=Object(a.useState)({visibility:!1,text:e.openText}),n=Object(x.a)(t,2),c=n[0],i=n[1];return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(U,{onClick:function(){c.visibility?i({visibility:!1,text:e.openText}):i({visibility:!0,text:e.openTextOnly?e.openText:e.closeText})},rightAligned:e.rightAligned,children:c.text}),c.visibility&&e.children]})},V=["January","February","March","April","May","June","July","August","September","October","November","December"],P=function(e){var t=Object(r.f)(),n=t.month+"/"+t.day+"/"+t.year,c=Object(s.c)((function(e){return e.journal.items}));return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(g,{id:"main"}),Object(j.jsx)(v,{}),Object(j.jsxs)("div",{className:"dayView",children:[Object(j.jsxs)("h1",{children:[" ",V[t.month-1]," ",t.day,", ",t.year]}),Object(j.jsxs)("ul",{children:[c.length>0&&c.map((function(e){if(e.id&&e.created){var t=new Date(e.created);if(t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()===n)return Object(j.jsx)(M,{item:e},e.id)}})),Object(j.jsx)("li",{className:"dayView__addFormItem",children:Object(j.jsx)(J,{openText:"New Journal Item",closeText:"Done Adding Items",children:Object(j.jsx)(F,{})})})]})]})]})},R=n(16),W=n(36),B=n(37),Y=n(38),G={calendar:l((new Date).toString()),menu:{status:"closed",time:""}},Q=Object(R.combineReducers)({journal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],tasks:[]},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case E:n.items=[].concat(Object(Y.a)(n.items),[t.item]);break;case N:n.items=t.items;break;case S:n.items=n.items.filter((function(e){return e.id!==t.item.id}))}return n},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"UPDATE_TIME":n.menu.time=u();break;case"UPDATE_CALENDAR":n.calendar=t.calendarMonth;break;case"UPDATE_NAV_STATUS":n.menu.status=t.status}return n}}),q=Object(B.composeWithDevTools)(Object(R.applyMiddleware)(W.a)),z=Object(R.createStore)(Q,q);function H(){return Object(j.jsx)(s.a,{store:z,children:Object(j.jsx)(i.a,{children:Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{path:"/calendar/:month/:day/:year",component:P}),Object(j.jsx)(r.a,{path:"/",component:T})]})})})}z.subscribe((function(){console.log(z.getState())})),z.dispatch(function(){var e=Object(D.a)(k.a.mark((function e(t){var n,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/items");case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,t(A(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var K=document.getElementById("root");Object(c.render)(Object(j.jsx)(H,{}),K)}},[[60,1,2]]]);
//# sourceMappingURL=main.5a292d2f.chunk.js.map